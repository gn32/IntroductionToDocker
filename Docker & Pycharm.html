<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

    <title>Docker</title>
</head>
<body>

<header class="bg-white">
    <div class="container-md px-4 mb-5">
        <div class="row gx-4">
          <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-1">
                <a class="navbar-brand" href="index.html">Home</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                   <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link active " href="about.html">About</span></a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="Virtualization.html">Virtualization</span></a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="Containerization.html">Containerization</span></a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="Comparison.html">Comparison</span></a>
                        </li>
                        <li class="nav-item active ">
                            <a class="nav-link " href="Websever_with_docker.html">Webserver with Docker</span></a>
                        </li>
                        <li class="nav-item active ">
                            <a class="nav-link" href="Linux_Docker.html">Docker Login and Linux commands</span></a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link active" href="Docker%20&%20Pycharm.html">Docker with Pycharm</span></a>
                        </li>

                    </ul>

                </div>
            </nav>
        </div>
    </div>
</header>
</body>
</html>
   <header class="bg-white">
    <div class="container-md px-4 mb-5">
         <div class="row gx-4">
        <div class="row justify-content-around text-center mb-3">
                <h3 class = "mt-auto">PyCharm - Docker configuration</h3>
             <p class="lead"> This tutorial shows how to configure PyCharm Professional for SKA control system development
                    using the SKA Docker images. </p>
        </div>
        <div class="px-4 mb-4 ml-5 mr-5 ">
             <p> PyCharm can be configured to use the Python interpreter inside a Docker
                    image, which allows:
            <ul>

                <li>development and testing without requiring a local Tango installation;</li>
                <li>the development environment to be identical to the testing and deployment environment, eliminating
                    problems that occur due to differences in execution environment.</li>
         </ul></p>
                <p>Follow the steps below to configure PyCharm to develop new code and run tests for the tango-example
                    project using the Docker images for the project.</p>
                <h4 class = "mt-auto">Prerequisites-</h4>
                    <p>Make sure that the following prerequistes are met:</p>
                    <p><li>Docker is installed, as described on the page Docker Docs.</li>
                    <li>PyCharm Professional must be installed. PyCharm Community is not sufficient!</li>
                    <li>You have basic familiarity with PyCharm. If this is the first time you have used PyCharm, follow the
                    First Steps tutorials so that you know how to use PyCharm to develop, debug, and test a simple
                        Python application using a local Python interpreter.</li></p>
                <h4 class = "mt-auto">Clone the tango-example project</h4>
                <p>PyCharm allows you to check out (in Git terms clone) an existing repository and create a new project
                    based on the data you’ve downloaded.</p>

                <p>1. From the main menu, choose VCS | Checkout from Version Control | Git, or, if no project is currently opened, choose Checkout from Version Control | Git on the Welcome screen.</p>
                <p>2. In the Clone Repository dialog, specify the URL of the tango-example repository (you can click Test to make sure that connection to the remote can be established).</p>
                <p>3. In the Directory field, specify the path where the folder for your local Git repository will be created into which the remote repository will be cloned. The dialog should now look similar to this:</p>
                    <div class="col-md text-center mt-auto mb-4 ">
                        <img src="Images/Py_Dckr1.png" class="col-md-5" alt="Responsive image">
                    </div>
                <p>4. Click Clone, then click Yes in the subsequent confirmation dialog to create a PyCharm project
                    based on the sources you have cloned.</p>
                <h4 class = "mt-auto">Build the application image-</h4>
             <p>With the source code source code checked out, the next step is to build a Docker image for the
                 application. This image will contain the Python environment which will we will later connect to
                 PyCharm.</p>
             <p>Begin a terminal session in the cloned repository directory and build the image:</p>
             <p>The last lines of terminal output displays the name and tags of the resulting images.</p>
             <h4 class = "mt-auto">Configure the remote interpreter-</h4>
             <p>Following the official PyCharm documentation, configure Docker as a remote interpreter using the image
                 you just created. The ‘Add Python Interpreter’ dialog should look similar to this:</p>
                    <div class="col-md text-center mt-auto mb-4 ">
                        <img src="Images/Py_Dckr2.png" class="col-md-5" alt="Responsive image">
                    </div>
             <p>As a result, the Python interpreter Preferences dialog should look something like this:</p>
                    <div class="col-md text-center mt-auto mb-4 ">
                        <img src="Images/Py_Dckr3.png" class="col-md-5" alt="Responsive image">
                    </div>
             <p>Click ‘OK’ to apply your changes.</p>
             <p>You can now navigate through the project. As an exercise, open the source code for the PowerSupply class
                 , which is defined in powersupply/powersupply.py. Notice that the IDE notifications and intellisense /
                 code completion are now based on information gathered from the remote Docker interpreter. Below an
                 import statement, try typing <strong>from tango import</strong> and activate code completion (ctrl+space). Notice how
                 the tango packages installed in the Docker image are suggested to complete the statement.</p>
             <p>Whenever you change the Python environment, for example by adding or removing dependencies in Piplock,
                 after rebuilding the Docker image you should regenerate the project skeletons to make PyCharm aware of
                 the changes. To do this, select File | Invalidate Caches / Restart… from the main menu.</p>
             <h4>Running unit tests-</h4>
             <p>The tango-example project illustrates two types of unit test:</p>

             <p>1. Self-contained unit tests that execute within the confines of a single Docker container. These tests
                 use the Tango class DeviceTestContext, which provides a mock connection to a Tango database. In the
                 tango-example project, these tests are found in tests/test_1_server_in_devicetestcontext.py.</p>
             <p>2. Unit tests that exercise a device in a real Tango environment, with connections to a Tango database
                 and other devices. utilise require a connection. In the tango-example project, these tests are found in
                 tests/test_2_test_server_using_client.py.</p>
             <p>This tutorial illustrates how to run the self-contained unit tests described in 1.</p>

             <p>From the main menu, choose Run | Edit Configurations… and click on the ‘+’ button to add a new
                 configuration. From the menu that appears, select Python tests | pytest to add a new pytest test
                 configuration. The menu selection looks like this:</p>
             <div class="col-md text-center mt-auto mb-4 ">
                        <img src="Images/Py_Dckr4.png" class="col-md-5" alt="Responsive image">
                    </div>
             <p>1. Change the Target radio button to ‘Module Name’. Click ‘…’ to select the target, choosing
                 test_1_server_in_devicetestcontext as the module to be tested.</p>
             <p>2. Select ‘Project Default’ as the Python interpreter for this configuration.</p>
             <p>The configuration dialog should look like similar to this:</p>
             <div class="col-md text-center mt-auto mb-4 ">
                        <img src="Images/Py_Dckr5.png" class="col-md-5" alt="Responsive image">
                    </div>
             <p>Click ‘OK’ to accept your changes.</p>
             <p>From the main menu, choose Run | Run…, then from the Run dialog that opens, select the configuration you
                 just created. The unit tests will execute, with the results displayed in PyCharm’s Run panel. The
                 results will look like this:</p>
             <div class="col-md text-center mt-auto mb-4 ">
                        <img src="Images/Py_Dckr6.png" class="col-md-5" alt="Responsive image">
                    </div>
         </ul>
         </div>
    </div>
   </header>

